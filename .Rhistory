library(tidyverse)
ggplot(data = diamonds) +
geom_bar(mapping = aes(x = cut, colour = cut))
ggplot(data = diamonds) +
geom_bar(mapping = aes(x = cut, fill = cut))
ggplot(data = diamonds) +
geom_bar(mapping = aes(x = cut, colour = cut))
ggplot(data = diamonds) +
geom_bar(mapping = aes(x = cut, fill = clarity))
ggplot(data = diamonds, mapping = aes(x = cut, fill = clarity)) +
geom_bar(alpha = 1/5, position = "identity")
ggplot(data = diamonds, mapping = aes(x = cut, colour = clarity)) +
geom_bar(fill = NA, position = "identity")
ggplot(data = diamonds) +
geom_bar(mapping = aes(x = cut, fill = clarity))
ggplot(data = diamonds, mapping = aes(x = cut, colour = clarity)) +
geom_bar(fill = NA, position = "identity")
ggplot(data = diamonds) +
geom_bar(mapping = aes(x = cut, fill = clarity), position = "fill")
# Position fills make each bar the same height, and is focused on the proportions across
ggplot(data = diamonds) +
geom_bar(mapping = aes(x = cut, fill = clarity), position = "dodge")
ggplot(data = mpg) +
geom_point(mapping = aes(x = displ, y = hwy), position = "jitter")
ggplot(data = mpg) +
geom_point(mapping = aes(x = displ, y = hwy))
ggplot(data = mpg, mapping = aes(x = cty, y = hwy)) +
geom_point()
ggplot(data = mpg, mapping = aes(x = cty, y = hwy)) +
geom_jitter()
ggplot(data = mpg, mapping = aes(x = cty, y = hwy)) +
geom_point()
ggplot(data = mpg, mapping = aes(x = cty, y = hwy)) +
geom_jitter()
ggplot(data = mpg, mapping = aes(x = cty, y = hwy)) +
geom_point()
?geom_jitter
ggplot(data = mpg, mapping = aes(x = cty, y = hwy)) +
geom_count()
ggplot(data = mpg, mapping = aes(x = cty, y = hwy)) +
geom_jitter()
mpg
ggplot(data=mpg, mapping = aes(x=class, y=cty)) +
geom_boxplot()
?geom_boxplot
ggplot(data=mpg, mapping = aes(x=class, y=cty)) +
geom_boxplot(position="dodge")
ggplot(data=mpg, mapping = aes(x=class, y=cty)) +
geom_boxplot(position="fill")
ggplot(data=mpg, mapping = aes(x=class, y=cty)) +
geom_boxplot(position="identity")
ggplot(data=mpg, mapping = aes(x=class, y=cty)) +
geom_boxplot(position="dodge")
ggplot(data = mpg, mapping = aes(x = class, y = hwy)) +
geom_boxplot()
ggplot(data = mpg, mapping = aes(x = class, y = hwy)) +
geom_boxplot() +
coord_flip()
nz <- map_data("nz")
install.packages("maps")
nz <- map_data("nz")
ggplot(nz, aes(long, lat, group = group)) +
geom_polygon(fill = "white", colour = "black")
ggplot(nz, aes(long, lat, group = group)) +
geom_polygon(fill = "white", colour = "black") +
coord_quickmap()
bar <- ggplot(data = diamonds) +
geom_bar(
mapping = aes(x = cut, fill = cut),
show.legend = FALSE,
width = 1
) +
theme(aspect.ratio = 1) +
labs(x = NULL, y = NULL)
bar + coord_flip()
bar + coord_polar()
ggplot(data = mpg, mapping = aes(x = cty, y = hwy)) +
geom_point()
ggplot(data = diamonds) +
geom_bar(mapping = aes(x = cut, fill = cut))
ggplot(data = diamonds) +
geom_bar(mapping = aes(x = cut, fill = clarity))
# 1. Turn a stacked bar chart into a pie chart using coord_polar().
ggplot(data = diamonds) +
geom_bar(mapping = aes(x = cut, fill = clarity))
bar + coord_polar()
ggplot(data = diamonds) +
geom_bar(mapping = aes(x = cut, fill = clarity)) +
coord_polar()
# 2. What does labs() do? Read the documentation.
?labs()
ggplot(nz, aes(long, lat, group = group)) +
geom_polygon(fill = "white", colour = "black") +
coord_quickmap()
ggplot(nz, aes(long, lat, group = group)) +
geom_polygon(fill = "white", colour = "black") +
coord_map()
ggplot(nz, aes(long, lat, group = group)) +
geom_polygon(fill = "white", colour = "black") +
coord_map()
?coord_map()
ggplot(data = mpg, mapping = aes(x = cty, y = hwy)) +
geom_point() +
geom_abline() +
coord_fixed()
ggplot(data = mpg, mapping = aes(x = cty, y = hwy)) +
geom_point() +
geom_abline()
ggplot(data = mpg, mapping = aes(x = cty, y = hwy)) +
geom_point() +
geom_abline() +
coord_fixed()
ggplot(data = mpg, mapping = aes(x = cty, y = hwy)) +
geom_point() +
geom_abline()
?mpg
?coord_fixed()
testing <- 3
testing
seq(1,10)
x <- "hello world"
y <- seq(1, 10, length.out = 5)
y
(y <- seq(1, 10, length.out = 5))
my_variable <- 10
my_varıable
library(tidyverse)
ggplot(dota = mpg) +
geom_point(mapping = aes(x = displ, y = hwy))
ggplot(data = mpg) +
geom_point(mapping = aes(x = displ, y = hwy))
fliter(mpg, cyl = 8)
filter(mpg, cyl = 8)
filter(diamond, carat > 3)
diamond
diamonds
filter(diamonds, carat > 3)
filter(diamonds, carat > 3)
library(nycflights13)
library(tidyverse)
install.packages("nycflights13")
library(nycflights13)
library(tidyverse)
?flights
flights
filter(flights, month==1, day==1)
sqrt(2) ^ 2 == 2
#> [1] FALSE
1 / 49 * 49 == 1
df <- tibble(x = c(1, NA, 3))
filter(df, x > 1)
df
filter(df, x > 1)
filter(df, is.na(x) | x > 1)
(filter(df, is.na(x) | x > 1))
flights
# 1. Had an arrival delay of two or more hours
filter(flights, dep_delay >= 120)
# 2. Flew to Houston (IAH or HOU)
(filter(flights, dest == "IAH" | dest == "HOU"))
unique(flights$carrier)
# 3. Were operated by United, American, or Delta
(filter(flights, carrier %in% c("UA", "AA", "DL")))
# 4. Departed in summer (July, August, and September)
(filter(flights, month %in% c(7,8,9)))
# 5. Arrived more than two hours late, but didn’t leave late
(filter(flights, arr_delay > 120 & dep_delay <= 0))
# 6. Were delayed by at least an hour, but made up over 30 minutes in flight
(filter(flights, dep_delay >= 60  & (arr_delay - dep_delay) >= 30))
# 7. Departed between midnight and 6am (inclusive)
(filter(flights, dep_time == 0000))
# 7. Departed between midnight and 6am (inclusive)
(filter(flights, dep_time == 2359))
# 7. Departed between midnight and 6am (inclusive)
(filter(flights, dep_time <= 0600 & dep_time >= 0000))
# 7. Departed between midnight and 6am (inclusive)
(filter(flights, dep_time <= 0600))
# 5. Arrived more than two hours late, but didn’t leave late
(filter(flights, arr_delay > 120, dep_delay <= 0))
# 7. Departed between midnight and 6am (inclusive)
(filter(flights, dep_time <= 0600 | dep_time == 2400))
# 2. Another useful dplyr filtering helper is between(). What does it do?
# Can you use it to simplify the code needed to answer the previous challenges?
?between()
# 3. Hw many flights have a missing dep_time? What other variables are missing?
# What might these rows represent?
(filter(flights, dep_time.isna()))
flights
# 3. Hw many flights have a missing dep_time? What other variables are missing?
# What might these rows represent?
(filter(flights, dep_time.is.na()))
# 3. Hw many flights have a missing dep_time? What other variables are missing?
# What might these rows represent?
(filter(flights, is.na(dep_time)))
NA ^ 0
# anything to the power of 0 is 1, even nothing
NA | TRUE
# 1. How could you use arrange() to sort all missing values to the start? (Hint: use is.na()).
arrange(flights)
library(nycflights13)
library(tidyverse)
# 1. How could you use arrange() to sort all missing values to the start? (Hint: use is.na()).
arrange(flights)
# 1. How could you use arrange() to sort all missing values to the start? (Hint: use is.na()).
arrange(flights, is.na())
?arrange
?arrange()
arrange(flights, desc(is.na(dep_time)))
arrange(flights, arr_delay, dep_delay)
arrange(flights, desc(arr_delay, dep_delay))
arrange(flights, dep_delay)
arrange(flights, air_time)
View(arrange(flights, air_time))
# 4. Which flights travelled the farthest? Which travelled the shortest?
arrange(flights, distance)
arrange(flights, desc(distance))
# 1. Brainstorm as many ways as possible to select dep_time, dep_delay, arr_time,
# and arr_delay from flights.
flights
select(flights, dep_time, dep_delay, arr_time,arr_delay)
select(flights, dep_time:arr_delay)
select(flights, starts_with(c("dep", "arr")))
select(flights, starts_with("dep", "arr"))
select(flights, starts_with("dep"))
select(flights, starts_with("dep"), starts_with("arr"))
# 2. What happens if you include the name of a variable multiple times in a select() call?
select(flights, dep_time)
# 2. What happens if you include the name of a variable multiple times in a select() call?
select(flights, dep_time, dep_time)
# 2. What happens if you include the name of a variable multiple times in a select() call?
select(flights, dep_time, dep_time, dep_time)
is.na(flights)
summarize(is.na(flights))
summarise(is.na(flights))
?one_of()
?one_of()
select(flights, contains("TIME"))
?contains()
select(flights, contains("TIME", ignore_case=TRUE))
select(flights, contains("TIME", ignore.case=TRUE))
select(flights, contains("TIME", ignore.case=FALSE))
flights_sml <- select(flights,
year:day,
ends_with("delay"),
distance,
air_time
)
mutate(flights_sml,
gain = dep_delay - arr_delay,
speed = distance / air_time * 60
)
mutate(flights_sml,
gain = dep_delay - arr_delay,
hours = air_time / 60,
gain_per_hour = gain / hours
)
1:3 + 1:10
1:3 + 1:10
